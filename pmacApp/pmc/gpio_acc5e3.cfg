// File: gpio_powerbrick.cfg
// Author: Wayne Lewis <wlewis@ospreydcs.com>
// Date: 2019-01-03
//
// Description:
// This file sets up the minimal configuration required to 
// integrate the ACC5E3 GPIO with the associated EPICS driver.

// Define setup of GPIO
// Assumes 8 inputs, 8 outputs
// Inputs on GPIO00-07
// Outputs on GPIO08-15
Sys.WpKey = $AAAAAAAA
// TODO: Check this - DT manual (PowerPMAC User manual, p555) is not 
// consistent with PowerBrick IO specs.
Acc5E3[0].GpioDir[0] = $FF00
Acc5E3[0].GpioPol[0] = $0000
// TODO: Check that this is required.
Acc5E3[0].GpioMode[0] = $0000
Sys.WpKey = $0

// Define mappings for Acc5E3 GPIO
// Inputs
M0->Acc5E3[0].GpioData[0].0
M1->Acc5E3[0].GpioData[0].1
M2->Acc5E3[0].GpioData[0].2
M3->Acc5E3[0].GpioData[0].3
M4->Acc5E3[0].GpioData[0].4
M5->Acc5E3[0].GpioData[0].5
M6->Acc5E3[0].GpioData[0].6
M7->Acc5E3[0].GpioData[0].7

// Outputs
M32->Acc5E3[0].GpioData[0].8
M33->Acc5E3[0].GpioData[0].9
M34->Acc5E3[0].GpioData[0].10
M35->Acc5E3[0].GpioData[0].11
M36->Acc5E3[0].GpioData[0].12
M37->Acc5E3[0].GpioData[0].13
M38->Acc5E3[0].GpioData[0].14
M39->Acc5E3[0].GpioData[0].15
